var TSCompiler;
(function(c){function b(e,a){"undefined"==typeof a&&(a=new c.Types.CompileInfo);var d=new TypeScript.CompilationSettings;d.generateDeclarationFiles=!0===e.produceDeclarations;d=new TypeScript.TypeScriptCompiler(a.emittedUnits.getDefaultStream(),null,new TypeScript.NullLogger,d);d.parser.errorRecovery=!0;d.setErrorCallback(a.getErrorCallback());for(var b=0;b<e.units.length;b++){var f=e.units[b];d.addUnit(f.data,f.name)}d.typeCheck();d.emit(!0,a.emittedUnits.getEmitCallback());return a.emittedUnits.getDefJS()}function f(e,
a,c){a||(a={units:[]});a.units.push({data:e,name:""});return b(a,c)}function g(a,b,d){"string"==typeof a&&(a=document.getElementById(a));if(!a||!a.tagName||"script"!=a.tagName.toLowerCase())throw Error("Invalid script block.");a=f(a.innerHTML,b,d);c.Helpers.insertScriptBlock(a)}function a(a,b,d,g,i){d||(d=function(){});"undefined"==typeof b&&(b=!0);if("undefined"==typeof i||null===i)i=new c.Types.CompileInfo;var h=new XMLHttpRequest;h.open("GET",a);h.onreadystatechange=function(){if(4==h.readyState)if(200==
h.status){var a=f(h.responseText,g,i);b&&c.Helpers.insertScriptBlock(a);d({result:a,compileInfo:i})}else d({error:!0})};h.send(null)}c.API_VERSION=0.1;c.compile=b;c.compileStr=f;c.runStr=function(a,b,d){a=f(a,b,d);c.Helpers.insertScriptBlock(a);return a};c.runScriptBlock=g;c.runAllScriptBlocks=function(b,f,d){if("undefined"==typeof b||null===b)b=["text/typescript","application/typescript"];c.Helpers.filterScriptBlocks(b,function(b){b.src?a(b.src):g(b,f,d)})};c.compileExtern=a})(TSCompiler||(TSCompiler=
{}));
(function(c){var c=c.Types||(c.Types={}),b=function(){this.errors=[];this.emittedUnits=new f};b.prototype.addError=function(a,b,c,d){this.errors.push({start:a,len:b,msg:c,block:d})};b.prototype.getErrorCallback=function(){var a=this;return function(){a.addError.apply(a,arguments)}};b.prototype.getErrorCount=function(){return this.errors.length};b.prototype.addOutputUnit=function(){};c.CompileInfo=b;var f,b=function(){this.units={};this.units[".js"]=new g};b.prototype.getEmitCallback=function(){var a=this;
return function(b){return a.emitCallback.apply(a,[b])}};b.prototype.emitCallback=function(a){"undefined"==typeof this.units[a]&&(this.units[a]=new g);return this.units[a]};b.prototype.getDefaultStream=function(){return this.units[".js"]};b.prototype.getDefJS=function(){return this.units[".js"].data};b.prototype.getDefDecl=function(){return this.units[".d.ts"]?this.units[".d.ts"].data:""};b.prototype.getUnit=function(a){return this.units[a].data};b.prototype.getAllUnits=function(){return this.units};
f=b;c.EmitDataStore=f;var g,c=function(){this.data=""};c.prototype.Write=function(a){this.data+=a};c.prototype.WriteLine=function(a){this.data+=a+"\n"};c.prototype.Close=function(){};g=c})(TSCompiler||(TSCompiler={}));
(function(c){c=c.Helpers||(c.Helpers={});c.insertScriptBlock=function(b){var c=document.createElement("script");c.setAttribute("type","text/javascript");c.innerHTML=b;document.body.appendChild(c)};c.filterScriptBlocks=function(b,c){var g=!0,a=null;if(document.querySelectorAll){for(var g=!1,a="",e=0,j=b.length;e<j;e++)a+='script[type="'+b[e]+'"]',e!=j-1&&(a+=",");a=document.querySelectorAll(a)}else a=document.getElementsByTagName("script");e=0;for(j=a.length;e<j;e++){var d=a[e];if(g){for(var k=d.getAttribute("type").toLowerCase(),
i=!1,h=0,l=b.length;h<l;h++)if(k==b[h]){i=!0;break}if(!i)continue}c(d)}}})(TSCompiler||(TSCompiler={}));
